<!DOCTYPE html>
<html lang="ja">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>デモECサイト - フォーム</title>
  <link rel="stylesheet" href="styles.css">
</head>
<html>
<body id="body">

  <button id="toggleButton">モード切替</button>

    <form id="userForm">
        <label for="firstName">姓: </label>
        <input type="text" id="firstName" name="firstName" required><br>
        <label for="lastName">名: </label>
        <input type="text" id="lastName" name="lastName" required><br>
        <label for="phoneNumber">電話番号: </label>
        <input type="text" id="phoneNumber" name="phoneNumber" required><br>
        <label for="favoriteFood">好きな食べ物: </label>
        <input type="text" id="favoriteFood" name="favoriteFood" required><br>
        <input type="submit" value="保存">
    </form>

</body>
</html>

<a href="./index.html">indexに戻る</a>

<script>

  window.onload = function () {
    const body = document.getElementById('body');
    const button = document.getElementById('toggleButton');

    // ページが読み込まれたときに設定をlocalStorageから読み込む
    let mode = localStorage.getItem('mode');
    if (mode === 'dark') {
        body.style.backgroundColor = 'black';
        body.style.color = 'white';
    } else {
        body.style.backgroundColor = 'white';
        body.style.color = 'black';
    }

    // ボタンが押されたときにモードを切り替える
    button.onclick = function () {
        console.log("こんにちは");
        mode = localStorage.getItem('mode');
        if (mode === 'dark') {
            body.style.backgroundColor = 'white';
            body.style.color = 'black';
            localStorage.setItem('mode', 'light');
        } else {
            body.style.backgroundColor = 'black';
            body.style.color = 'white';
            localStorage.setItem('mode', 'dark');
        }
    }

    // リロードした際の情報の再表示
    document.getElementById('firstName').value = sessionStorage.getItem('firstName') || '';
    document.getElementById('lastName').value = sessionStorage.getItem('lastName') || '';
    document.getElementById('phoneNumber').value = sessionStorage.getItem('phoneNumber') || '';
    document.getElementById('favoriteFood').value = sessionStorage.getItem('favoriteFood') || '';

    // Submitボタンが押されたときの処理
    document.getElementById('userForm').onsubmit = function (event) {
        event.preventDefault();  // デフォルトの送信動作を防ぐ

        // 入力されたデータを取得
        let firstName = document.getElementById('firstName').value;
        let lastName = document.getElementById('lastName').value;
        let phoneNumber = document.getElementById('phoneNumber').value;
        let favoriteFood = document.getElementById('favoriteFood').value;

        // データをsession storageに保存
        sessionStorage.setItem('firstName', firstName);
        sessionStorage.setItem('lastName', lastName);
        sessionStorage.setItem('phoneNumber', phoneNumber);
        sessionStorage.setItem('favoriteFood', favoriteFood);
    }
}

    </script>